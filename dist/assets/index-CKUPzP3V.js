const U=()=>{let a=2,i=[];function f(n){let r=n.length,l=new Uint8Array(r*a);for(let s=0;s<r;s++){let e=s*a,t=n[s];t>1?t=1:t<-1&&(t=-1),t=t*32768,l[e]=t,l[e+1]=t>>8}i.push(l)}function u(n){let r=i.length?i[0].length:0,l=i.length*r,s=new Uint8Array(44+l),e=new DataView(s.buffer);e.setUint32(0,1380533830,!1),e.setUint32(4,36+l,!0),e.setUint32(8,1463899717,!1),e.setUint32(12,1718449184,!1),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,1,!0),e.setUint32(24,n,!0),e.setUint32(28,n*a,!0),e.setUint16(32,a,!0),e.setUint16(34,8*a,!0),e.setUint32(36,1684108385,!1),e.setUint32(40,l,!0);for(let t=0;t<i.length;t++)s.set(i[t],t*r+44);i=[],postMessage(s.buffer,[s.buffer])}onmessage=n=>{n.data[0]==="encode"?f(n.data[1]):n.data[0]==="dump"&&u(n.data[1])}};export{U as default};
